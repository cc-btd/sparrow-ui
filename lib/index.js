!function(e){"use strict";function i(e,s,o,r){return new(o=o||Promise)(function(n,t){function l(e){try{i(r.next(e))}catch(e){t(e)}}function a(e){try{i(r.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(l,a)}i((r=r.apply(e,s||[])).next())})}const o=e=>{let t=new Array;for(var[n,l=()=>!0]of e)if(n){if(l()){t.push(!0);break}t.push(!1)}if(!t.includes(!1))return!0};let t;const n=(e,t=16)=>{let n=setTimeout(()=>i(void 0,void 0,void 0,function*(){yield e(),clearTimeout(n)}),t);return n},l={icon:void 0,classname:void 0,background:void 0,fullscreen:void 0,text:"加载中...",target:void 0,status:"true"},s=(e,t="createElement")=>document[t](e),r=(e,t)=>{for(const n in t)""!=t[n]&&(e.style[n]=t[n])},a=(a,t,n)=>{var l;if("undefined"!=typeof window&&o(new Set([[-1==a.tag.indexOf("-"),()=>{alert("请检查 tag 参数！")}]]))){let e=(t=>{var e;let l={[t]:((e=class extends HTMLElement{constructor(){var n,e;super(),a.shadow&&this.attachShadow({mode:a.shadow}),l[t].target=this,n=this,(e=null==a?void 0:a.observedAttributes)&&e.forEach(t=>{Object.defineProperty(n,"attr-"+t,{enumerable:!1,configurable:!1,get(){return n.getAttribute(t)},set(e){n.setAttribute(t,e)}})})}connectedCallback(){var e;a.connectedCallback.bind(this)(),null!==(e=this.onload)&&void 0!==e&&e.call(this)}disconnectedCallback(){var e;null!==(e=a.disconnectedCallback)&&void 0!==e&&e.bind(this)()}attributeChangedCallback(e,t,n){var l;null!==(l=a.attributeChangedCallback)&&void 0!==l&&l.bind(this)(e,t,n)}}).target=void 0,e)};return l[t]})(a.tag);return Reflect.has(a,"getConstructor")&&null!==(l=a.getConstructor)&&void 0!==l&&l.bind(void 0)(e),e.observedAttributes=(null==a?void 0:a.observedAttributes)||[],window.customElements.define(a.tag,t||e,n),e}},d=Object.keys(l);class c{constructor(){this.initChildrens=(l,a)=>i(this,void 0,void 0,function*(){let e=s("i"),t=s("span"),n=l.tagName.toLocaleLowerCase();e.basename=n+"-icon",t.basename=n+"-content",e.classList.add(e.basename,"sp-icon","sp-icon-loading"),t.classList.add(t.basename),l.iconEl=e,l.contentEl=t,this._setClassName(l),yield a(e,t),l.append(e,t)});const n=this;a({tag:"sp-loading",observedAttributes:d,connectedCallback(){this.attrs=(e=>{let l=e.attributes;return new Array(l.length).fill(null).reduce((e,t,n)=>{n=l.item(n);return e[n.nodeName]=n.value,e},{})})(this),this.attrs=Object.assign(Object.assign({},l),this.attrs),n.initView(this)},attributeChangedCallback(...e){var[t,,e]=e;n.set({attrs:{[t]:e},target:this,iconEl:this.iconEl,contentEl:this.contentEl})}})}_setClassName(e){var t;let n=[e.tagName.toLocaleLowerCase(),(null==e?void 0:e["attr-classname"])||(null===(t=null==e?void 0:e.attrs)||void 0===t?void 0:t.classname)];e.className=n.join(" ")}initView(l){this.initChildrens(l,(e,t)=>{var n=null===(n=null==l?void 0:l.parentElement)||void 0===n?void 0:n.style;(l.parentElement&&""==n.position||"static"==n.position)&&(l.parentElement.style.position="relative"),this.set({attrs:l.attrs,target:l,iconEl:e,contentEl:t})})}set({attrs:l,target:a,iconEl:i,contentEl:s}){o(new Set([[(null==l?void 0:l.icon)&&i,()=>{i.className=i.basename+" sp-icon "+(null==l?void 0:l.icon)}],[null==l?void 0:l.classname,()=>this._setClassName(a)],[null==l?void 0:l.background,()=>{r(a,{backgroundColor:null==l?void 0:l.background})}],[null==l?void 0:l.fullscreen,()=>{if(null==a||!a.target){var e=a.parentElement,t="true"==(null==l?void 0:l.fullscreen)&&"true",n="false"==(null==l?void 0:l.fullscreen)&&"false";if((t||a.isfullscreen&&n)&&(null!=a&&a.remove(),null!=i&&i.remove(),null!=s&&s.remove()),a.isfullscreen&&n)return a.isfullscreen=!1,void a.parentEl.append(a);t&&(a["attr-fullscreen"]="",a.isfullscreen=!0,a.parentEl=e,document.body.appendChild(a))}}],[(null==l?void 0:l.text)&&s,()=>{s.textContent=null==l?void 0:l.text}],[null==l?void 0:l.target,()=>{let e=(t=null==l?void 0:l.target,document.querySelectorAll(t));var t;if(a["attr-target"]="",a._target=null==l?void 0:l.target,e=e.length&&0<e.length?e[0]:e,!e)throw Error("target nothingness");a.remove(),i.remove(),s.remove(),e.appendChild(a)}],[null==l?void 0:l.status,()=>{if("true"==(null==l?void 0:l.status))return a.classList.remove("sp-loading-fade-leave"),r(a,{display:"flex",opacity:"0"}),void n(()=>a.classList.add("sp-loading-fade-enter"));"false"==(null==l?void 0:l.status)&&(a.classList.remove("sp-loading-fade-enter"),a.classList.add("sp-loading-fade-leave"),n(()=>r(a,{display:"none"}),190))}]]))}static config(e){const t=s("sp-loading");for(var n in e)t["attr-"+n]=e[n];return{close(){t["attr-status"]="false"}}}}new c;var u={Loading:c};(t=t||("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})).Spui=u,e.Loading=c,e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}({});
//# sourceMappingURL=index.js.map
