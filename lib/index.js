var named=function(e){"use strict";var t=(...e)=>e;const l=t("default","primary","dashed","text","link"),s=t("middle","small","mini"),a=t("circle","default","round"),i=t("submit","button","reset");const d=e=>{let t=new Array;for(var[l,s=()=>!0]of e)if(l){if(s()){t.push(!0);break}t.push(!1)}if(!t.includes(!1))return!0},p=(e,t="createElement")=>document[t](e),v=(e,t)=>{for(const l in t)Object.prototype.hasOwnProperty.call(e.style,l)&&""!=t[l]&&(e.style[l]=t[l])},n=e=>{let s=e.attributes;return new Array(s.length).fill(null).reduce((e,t,l)=>{l=s.item(l);return e[l.nodeName]=l.value,e},{})},o=(a,l)=>{var s;let i=null;if(d(new Set([[-1==a.tag.indexOf("-"),()=>{alert("请检查 tag 参数！")}],[customElements.get(a.tag),()=>(alert("已经存在了这个标签，bro"),!1)]]))){let e=(l,e)=>{e&&e.forEach(t=>{Object.defineProperty(l,"attr-"+t,{enumerable:!1,configurable:!1,get(){return i?i.getAttribute(t):"empty!"},set(e){l.setAttribute(t,e),i[t]=e}})})};var n,o;let t={[n=a.tag]:(o=class extends HTMLElement{constructor(){super(),a.shadow&&this.attachShadow({mode:a.shadow}),new Proxy(this,{}),i=this,e(this,null==a?void 0:a.observedAttributes)}connectedCallback(){a.connectedCallback.bind(this)()}disconnectedCallback(){var e;null!==(e=a.disconnectedCallback)&&void 0!==e&&e.bind(this)()}attributeChangedCallback(e,t,l){var s;null!==(s=a.attributeChangedCallback)&&void 0!==s&&s.bind(this)(e,t,l)}}).target=o}[n];Reflect.has(a,"getConstructor")&&null!==(s=a.getConstructor)&&void 0!==s&&s.bind(void 0)(t),t.observedAttributes=(null==a?void 0:a.observedAttributes)||[],e(t.target,null==a?void 0:a.observedAttributes),window.customElements.define(a.tag,l||t)}},r={type:l,size:s,shape:a,htmlType:i,disabled:Boolean,loading:Boolean||{delay:Number}},c=(s,e)=>{let t=["shape","size","type","disabled"];console.time();for(let l in e)d(new Set([[t.includes(l),()=>{if(r[l]instanceof Array)for(let e=0;e<s.classList.length;e++){let t=s.classList.item(e);r[l].map(e=>t=="sp-button-"+e&&s.classList.remove(t))}s.classList.toggle("sp-button-"+e[l])}],["loading"==l,()=>{e[l]&&"false"!=e[l]?null===s.loadinEl&&(s.loadinEl=p("div"),s.loadinEl.innerHTML='<svg viewBox="0 0 1024 1024" focusable="false" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>',s.insertBefore(s.loadinEl,s.firstChild),s.classList.add("is-loading")):s.loadinEl&&(s.removeChild(s.loadinEl),s.classList.remove("is-loading"),s.loadinEl=null)}]]));console.timeEnd()};o({tag:"sp-button",observedAttributes:Object.keys(r),connectedCallback(){let s=this;this.loadinEl=null,this.className="sp-button";var e=new Proxy({},{set(e,t,l){e=Reflect.set(e,t,l);return v(s,{[t]:l}),e}});v(this,e);let a=Object.assign({},n(this));for(let l in a){let e=a[l],t=r[l];d(new Set([[t instanceof Array,()=>{d(new Set([["type"==l&&!t.includes(e),()=>{a[l]="default"}],["size"==l&&!t.includes(e),()=>{a[l]="middle"}],["shape"==l&&!t.includes(e),()=>{a[l]="default"}],["htmlType"==l&&!t.includes(e),()=>{a[l]="button"}]]))}],["disabled"==l,()=>{a[l]="disabled"}]]))}c(this,a),this.loadinEl&&function(e){let l=[...e];if(l.shift(),0==l.length)return 1;{let t=!0;for(let e=0;e<l.length;e++){if(l[e].tag){t=!1;break}0<l[e].nodeValue.trim().length&&(t=!1);break}return t}}(this.childNodes)&&this.classList.add("empty-loading")},attributeChangedCallback(e,t,l){c(this,{[e]:"disabled"==e?"disabled":l})},getConstructor(e){console.log(e)}});t=Object.freeze({__proto__:null,default:void 0});function u(e,n,o,d){return new(o=o||Promise)(function(l,t){function s(e){try{i(d.next(e))}catch(e){t(e)}}function a(e){try{i(d.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?l(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(s,a)}i((d=d.apply(e,n||[])).next())})}const h={title:"提示",closable:"true",appendbody:"false",visible:"false",class:"",classname:"",center:"true",modal:"true",canceltext:"取消",oktext:"确认",footer:"true"},m=Object.keys({title:String,closable:Boolean,appendbody:Boolean,visible:Boolean,class:String||Array,classname:String||Array,center:Boolean,modal:Boolean,canceltext:String,oktext:String,footer:String||Boolean});let f=2e3;function g(){this.onClose&&this.onClose()}const b=(e,t=16)=>{let l=setTimeout(()=>u(void 0,void 0,void 0,function*(){yield e(),clearTimeout(l)}),t)};class y{constructor(){this.initView=function(){f++;let e=p("main"),t=p("span"),l=p("span"),s=p("header"),a=p("template"),i=p("div"),n=p("footer"),o=p("sp-button"),d=p("sp-button"),r=Array.from(this.children),c=["footer","header","content"];var u,h,m,b=r.reduce((e,t)=>{t=t.getAttribute("slot");return c.includes(t)&&(e[t]=t),e},Object.create(null));return this.zIndex=f,this.className="sp-modal sp-modal"+(f-2e3)+" "+this.attrs.class,e.className="sp-modal-content",l.className="false"==this.attrs.closable?"":"sp-icon sp-icon-close",i.className="sp-modal-mock sp-modal-mock-"+f,s.className="sp-modal-header",n.className="sp-modal-footer-active",t.innerHTML=this.attrs.title,o.innerHTML=this.attrs.canceltext,d.innerHTML=this.attrs.oktext,s.setAttribute("slot","header"),n.setAttribute("slot","footer"),s.appendChild(t),s.appendChild(l),n.appendChild(o),n.appendChild(d),o.onclick=g.bind(this),d.onclick=e=>{var t;null!==(t=null==this?void 0:this.onOk)&&void 0!==t&&t.call(this,0<(null===(t=null==this?void 0:this.onOk)||void 0===t?void 0:t.length)?e:null)},a.innerHTML=`
        <style>
  .sp-modal-footer{
    box-sizing: border-box;
    display: flex;
    width: 100%;
    justify-content: flex-end;
    align-items: center;
  }
  </style>
        <slot name="header"></slot> 
        <slot name="content">按照格式书写</slot>
        <slot name="footer" class="sp-modal-footer"></slot>
        `,v(this,{zIndex:String(f),marginTop:"false"==this.attrs.center?"15vh":"auto",display:"none"}),v(i,{zIndex:String(f-1),display:"none"}),u=l,h="click",m=g.bind(this),u.addEventListener(h,m),null!=b&&b.header||this.insertBefore(s,this.firstChild),"null"===this.attrs.footer||null!=b&&b.footer||this.appendChild(n),this.shadowRoot.appendChild(a.content.cloneNode(!0)),"false"!==this.attrs.modal&&(document.body.appendChild(i),i.onclick=g.bind(this)),"true"==this.attrs.visible&&(v(this,{display:"block"}),v(i,{display:"block"})),{header:s,headerL:t,headerR:l,mock:i}};let s=this;o({tag:"sp-modal",observedAttributes:m,shadow:"open",connectedCallback(){this.attrs=n(this),this.attrs=Object.assign(Object.assign({},h),this.attrs),"true"==this.attrs.appendbody?(this.remove(),this["attr-appendbody"]="false",document.body.appendChild(this)):this.useAllEls=s.initView.call(this)},attributeChangedCallback(...e){let[t,,l]=e;d.call(this,new Set([["visible"==t,()=>{console.log(l),l&&f++,this.useAllEls&&s._fadeami(l,this)}],["center"==t,()=>{v(this,{marginTop:"false"==l?"15vh":"auto"})}]]))}})}_fadeami(e,t){var l;"true"==e?(v(t,{display:"block",zIndex:String(f+1)}),v(null===(l=t.useAllEls)||void 0===l?void 0:l.mock,{display:"block",zIndex:String(f)}),t.classList.add("sp-modal-enter-active"),null!==(l=t.useAllEls)&&void 0!==l&&l.mock.classList.add("sp-modal-mock-enter-active"),b(()=>{var e;t.classList.remove("sp-modal-enter-active"),null!==(e=t.useAllEls)&&void 0!==e&&e.mock.classList.remove("sp-modal-mock-enter-active")},290)):(t.classList.add("sp-modal-leave-active"),null!==(l=t.useAllEls)&&void 0!==l&&l.mock.classList.add("sp-modal-mock-leave-active"),b(()=>{var e;v(t,{display:"none"}),v(null===(e=t.useAllEls)||void 0===e?void 0:e.mock,{display:"none"}),t.classList.remove("sp-modal-leave-active"),null!==(e=t.useAllEls)&&void 0!==e&&e.mock.classList.remove("sp-modal-mock-leave-active")},290))}}new y;console.log(19999123);return e.alert=Object.freeze({__proto__:null,default:void 0}),e.button=t,e.default=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=index.js.map
